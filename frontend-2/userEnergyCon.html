<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Radient future AI</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <meta content="" name="keywords" />
    <meta content="" name="description" />

    <!-- Favicon -->
    <link href="img/favicon.ico" rel="icon" />

    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-auth-compat.js"></script>

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="" />
    <link
      href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;500&family=Roboto:wght@500;700;900&display=swap"
      rel="stylesheet"
    />

    <!-- Icon Font Stylesheet -->
    <link href="css/all.min.css" rel="stylesheet" />
    <link href="css/bootstrap-icons.css" rel="stylesheet" />

    <!-- Libraries Stylesheet -->
    <link href="css/animate.min.css" rel="stylesheet" />
    <link href="css/owl.carousel.min.css" rel="stylesheet" />
    <link href="css/lightbox.min.css" rel="stylesheet" />

    <!-- Customized Bootstrap Stylesheet -->
    <link href="css/bootstrap.min.css" rel="stylesheet" />

    <!-- Template Stylesheet -->
    <link href="css/style.css" rel="stylesheet" />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Personalized Energy Recommendations</title>
    <style>
      body {
        font-family: Roboto, sans-serif;
      }

      .input-row {
        display: flex;
        gap: 10px;
        margin-bottom: 20px;
      }

      .input-row input[type="text"] {
        flex: 1;
        padding: 8px;
        border: 1px solid #ccc;
        border-radius: 4px;
      }

      input[type="submit"] {
        background-color: #4caf50;
        color: white;
        padding: 10px 20px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
      }

      input[type="submit"]:hover {
        background-color: #45a049;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: Roboto, sans-serif;
      }

      body {
        background-color: #f4f9f4;
        color: #2c3e50;
        line-height: 1.6;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
      }

      .logo {
        font-size: 24px;
        font-weight: bold;
        color: #2ecc71;
      }

      /* Intro Section */
      .intro {
        text-align: center;
        padding: 50px 0;
        background-color: #e8f5e9;
      }

      .intro h1 {
        color: #2ecc71;
        font-size: 36px;
        margin-bottom: 15px;
      }

      .intro p {
        color: #34495e;
        font-size: 18px;
      }

      /* AI Explanation Section */
      .ai-explanation {
        background-color: white;
        border-radius: 15px;
        padding: 30px;
        margin: 30px 0;
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
        display: flex;
        align-items: center;
      }

      .ai-explanation-text {
        flex: 2;
        padding-right: 30px;
      }

      .ai-explanation-icon {
        flex: 1;
        text-align: center;
        font-size: 100px;
      }

      /* Benefits Section */
      .benefits {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 20px;
        margin: 30px 0;
      }

      .benefit {
        background-color: white;
        border-radius: 15px;
        padding: 20px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        display: flex;
        align-items: center;
      }

      .benefit-icon {
        font-size: 48px;
        margin-right: 20px;
        color: #2ecc71;
      }

      /* Input Form */
      .recommendation-form {
        background-color: white;
        border-radius: 15px;
        padding: 30px;
        margin: 30px 0;
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
      }

      .submit-btn {
        grid-column: span 2;
        background-color: #2ecc71;
        color: white;
        border: none;
        padding: 12px 25px;
        border-radius: 5px;
        cursor: pointer;
        transition: background-color 0.3s ease;
      }

      .submit-btn:hover {
        background-color: #27ae60;
      }

      /* Results Section */
      .results {
        background-color: white;
        border-radius: 15px;
        padding: 30px;
        margin: 30px 0;
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
        display: none;
        /* Hidden by default, shown after submission */
      }

      .results-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
      }

      .recommendations-list {
        list-style-type: none;
      }

      .recommendation-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 15px;
        border-bottom: 1px solid #ecf0f1;
      }

      .recommendation-details {
        flex: 2;
      }

      .recommendation-savings {
        flex: 1;
        text-align: right;
        color: #2ecc71;
        font-weight: bold;
      }

      /* Responsive Design */
      @media (max-width: 768px) {
        .form-grid,
        .benefits {
          grid-template-columns: 1fr;
        }

        .ai-explanation {
          flex-direction: column;
          text-align: center;
        }

        .ai-explanation-text {
          padding-right: 0;
          margin-bottom: 20px;
        }
      }

      .login-btn {
        background: linear-gradient(90deg, #2ecc71, #27ae60);
        border: none;
        padding: 12px 24px;
        border-radius: 30px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .login-btn:hover {
        background: linear-gradient(90deg, #27ae60, #2ecc71);
        transform: translateY(-3px);
        box-shadow: 0 6px 10px rgba(0, 0, 0, 0.15);
      }

      .login-btn:active {
        transform: translateY(0);
        box-shadow: 0 3px 6px rgba(0, 0, 0, 0.1);
      }
    </style>
  </head>

  <body>
    <div id="mynavbar"></div>

    <div class="container">
      <section class="intro">
        <h1>Revolutionize Your Energy Usage</h1>
        <p>
          Empowering you with intelligent, sustainable, and cost-effective
          energy solutions tailored to your needs.
        </p>
      </section>

      <section class="ai-explanation">
        <div class="ai-explanation-text">
          <h2>Why Choose AI-Powered Solutions?</h2>
          <p>
            Our cutting-edge AI technology delves deep into your energy usage
            habits, analyzes regional factors, and identifies opportunities for
            optimization. By leveraging advanced data analytics, we offer
            actionable insights that help you achieve energy independence while
            reducing costs and environmental impact.
          </p>
          <ul>
            <li>
              <strong>Personalized Analysis:</strong> Customized insights based
              on your unique consumption patterns.
            </li>
            <li>
              <strong>Eco-Friendly Choices:</strong> Recommendations to minimize
              your carbon footprint.
            </li>
            <li>
              <strong>Smart Savings:</strong> Maximize efficiency and reduce
              energy bills without compromising comfort.
            </li>
          </ul>
        </div>
        <div
          class="ai-explanation-icon"
          style="
            width: 300px;
            height: 200px;
            overflow: hidden;
            border-radius: 15px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
          "
        >
          <img
            src="bedsheet\Title Slide.jpg"
            alt="AI Energy Optimization"
            style="width: 100%; height: 100%; object-fit: cover"
          />
        </div>
      </section>
      <section class="recommendation-form">
        <h2>Tell Us About Your Energy Needs</h2>
        <form id="energyForm" class="form-grid"></form>
      </section>
    </div>
    <div id="myfooter"></div>
    <!-- JavaScript Libraries -->
    <script>
      // Create an async function to load header and footer
      async function loadContent() {
        // Fetch the header and footer HTML
        const headerResponse = await fetch("assets/navbar.html");
        const footerResponse = await fetch("assets/footer.html");

        // Get the text content of both
        const headerContent = await headerResponse.text();
        const footerContent = await footerResponse.text();

        // Insert the content into the respective divs
        document.getElementById("mynavbar").innerHTML = headerContent;
        document.getElementById("myfooter").innerHTML = footerContent;
      }

      // Call the loadContent function when the page loads
      loadContent();
    </script>
    <script src="js/jquery-3.4.1.min.js"></script>
    <script src="js/bootstrap.bundle.min.js"></script>
    <script src="js/wow.min.js"></script>
    <script src="js/easing.min.js"></script>
    <script src="js/waypoints.min.js"></script>
    <script src="js/counterup.min.js"></script>
    <script src="js/owl.carousel.min.js"></script>
    <script src="js/isotope.pkgd.min.js"></script>
    <script src="js/lightbox.min.js"></script>

    <!-- Template Javascript -->
    <script src="js/main.js"></script>
    <script>
      let size = 0;
      function submit() {
        event.preventDefault();
        let data = {};
        data["appliances"] = [];
        for (let i = 0; i < size; i++) {
          let name = document.getElementById("lab-" + i);
          let in1 = document.getElementsByName("input1-" + i)[0];
          let in2 = document.getElementsByName("input2-" + i)[0];
          let in3 = document.getElementsByName("input3-" + i)[0];
          // check if in3 has value greater than 0
          if (in3.value > 0) {
            data["appliances"].push({
              name: name.textContent,
              wattage: in1.value,
              hoursPerDay: in2.value,
              noOfAppliances: in3.value,
            });
          }
        }
        console.log(data);
        const pincode = sessionStorage.getItem("pincode");
        let newData = {};
        newData["data"] = data;
        if (pincode) {
          const jsonData = JSON.parse(pincode); // Parse the JSON string back into an object
          newData["pincode"] = pincode;
          sessionStorage.setItem("data", JSON.stringify(newData));
          window.location.href = `userDashboard.html`;
        } else {
          sessionStorage.setItem("sharedData", JSON.stringify(data));
          window.location.href = `userSolarPotentialCalculator.html`;
        }
      }
      async function getAppliances(params) {
        try {
          const form = document.getElementById("energyForm");
          const data = await fetch(
            "http://localhost:5000/api/enegy_consumption/getAppliances",
            {
              method: "GET",
            }
          );
          const appliances = await data.json();
          size = appliances["appliances"].length;
          appliances["appliances"].forEach((ele, index) => {
            const formGroupHTML = `
                <div class="form-group">
                  <label id ="lab-${index}" for="main-textbox" style="font-size:17px">${ele.name}</label><br>
                </div>
                <div class="input-row">
                  <input type="text" name="input1-${index}" placeholder="Wattage" value="${ele.wattage}">
                  <input type="text" name="input2-${index}" placeholder="Average Hours Per Day" value="${ele.wattage}">
                  <input type="text" name="input3-${index}" placeholder="No Of Appliances" value="0">
                </div>`;

            const div = document.createElement("div");
            div.innerHTML = formGroupHTML;
            form.appendChild(div);
          });

          // Add submit button
          const submitButton = document.createElement("button");
          submitButton.type = "submit";
          submitButton.className = "submit-btn";
          submitButton.textContent = "Get My Recommendations";
          submitButton.addEventListener("click", submit);
          form.appendChild(submitButton);
        } catch (error) {
          console.log(error);
        }
      }
      getAppliances();
    </script>
  </body>
</html>
